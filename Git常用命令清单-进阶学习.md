# Git 常用命令清单 - 进阶学习

**更新时间**：2026-01-21
**适用人群**：已读完《零基础学 Git》文章，想系统学习 Git 命令的读者

---

## 基础概念

### Git vs GitHub

| 项目 | Git | GitHub |
|------|-----|--------|
| 是什么 | 版本管理软件 | 代码托管平台（网站） |
| 在哪里 | 你的电脑上（本地） | 网络上（云端） |
| 作用 | 记录代码的每一次修改历史 | 存储代码、分享给他人、备份 |
| 关系 | 本地仓库 | 远程仓库 |

### 工作流程

```
创建项目文件夹
    ↓
初始化成 Git 本地仓库（git init）
    ↓
提交到本地 Git（git commit）
    ↓
在 GitHub 创建远程仓库
    ↓
把本地仓库推送到 GitHub（git push）
```

---

## 核心命令速查

### 1. 初始化与配置

| 命令 | 作用 | 示例 |
|------|------|------|
| `git init` | 初始化仓库，把文件夹变成 Git 仓库 | 在项目文件夹中执行 |
| `git config --global user.name "你的名字"` | 配置用户名 | 只需配置一次 |
| `git config --global user.email "你的邮箱"` | 配置邮箱 | 只需配置一次 |
| `git config --list` | 查看所有配置 | 检查配置是否正确 |

**说明**：第一次使用 Git 时，需要配置用户名和邮箱，这样提交记录才能识别是你提交的。

---

### 2. 文件操作

| 命令 | 作用 | 示例 |
|------|------|------|
| `git add .` | 添加所有修改到暂存区 | 最常用 |
| `git add 文件名` | 添加指定文件到暂存区 | `git add note.txt` |
| `git commit -m "提交说明"` | 提交到本地仓库 | `git commit -m "第一次提交"` |
| `git status` | 查看当前状态 | 了解哪些文件被修改了 |
| `git diff` | 查看文件的具体修改内容 | 对比修改前后的差异 |

**核心概念**：
- **工作区**：你实际操作的文件
- **暂存区**：准备提交的文件（`git add` 后）
- **本地仓库**：已提交的历史记录（`git commit` 后）

---

### 3. 远程仓库操作

| 命令 | 作用 | 示例 |
|------|------|------|
| `git remote add origin 地址` | 关联远程仓库 | `git remote add origin https://github.com/用户名/项目名.git` |
| `git push -u origin master` | 推送到远程仓库 | 第一次推送时用 |
| `git push` | 推送到远程仓库 | 后续推送 |
| `git pull` | 拉取远程更新 | 同步远程代码到本地 |
| `git clone 地址` | 克隆远程仓库 | 复制整个项目到本地 |

**说明**：
- `origin` 是远程仓库的默认名称，可以自定义
- `master` 是主分支的名称，现在很多项目改用 `main`
- `-u` 参数设置上游分支，后续只需 `git push` 即可

---

### 4. 查看历史

| 命令 | 作用 | 示例 |
|------|------|------|
| `git log` | 查看详细提交历史 | 显示完整信息 |
| `git log --oneline` | 查看简洁提交历史 | 每条记录一行 |
| `git log --graph` | 查看分支图形化历史 | 可视化分支结构 |
| `git show 提交编号` | 查看某次提交的详细内容 | `git show 67d15d3` |

**说明**：提交编号是每次提交的唯一标识，可以用前 7 位字符表示。

---

### 5. 撤销与回退

| 命令 | 作用 | 示例 |
|------|------|------|
| `git reset --hard HEAD^` | 回退到上一个版本 | 撤销最近一次提交 |
| `git reset --hard 提交编号` | 回退到指定版本 | `git reset --hard 67d15d3` |
| `git checkout -- 文件名` | 撤销文件的修改 | 恢复文件到上次提交状态 |
| `git revert 提交编号` | 撤销指定提交（创建新提交） | 不改变历史，更安全 |

**⚠️ 注意**：
- `git reset --hard` 会**永久删除**之后的提交，慎用
- 回退后如果要同步到远程，需要 `git push -f` 强制推送
- `git revert` 更安全，但不适合频繁回退的场景

---

### 6. 分支操作

| 命令 | 作用 | 示例 |
|------|------|------|
| `git branch` | 查看所有分支 | 显示本地分支列表 |
| `git branch 分支名` | 创建新分支 | `git branch feature` |
| `git checkout -b 分支名` | 创建并切换到新分支 | `git checkout -b test` |
| `git checkout 分支名` | 切换到已有分支 | `git checkout master` |
| `git merge 分支名` | 合并分支到当前分支 | `git merge feature` |
| `git branch -d 分支名` | 删除已合并的分支 | `git branch -d feature` |
| `git push origin 分支名` | 推送分支到远程 | `git push origin test` |

**核心概念**：
- 分支是独立的开发线，互不影响
- `master`/`main` 是主分支，通常用于正式发布
- `feature`、`test` 等是功能分支，用于开发新功能
- 合并分支时可能产生冲突，需要手动解决

---

## 实用技巧

### 1. 查看本地和远程的差异

```bash
# 查看本地分支和远程分支的对应关系
git branch -vv

# 查看本地和远程的差异
git diff origin/master
```

### 2. 临时保存工作（未完成的内容）

```bash
# 保存当前工作现场
git stash

# 查看保存的工作现场
git stash list

# 恢复工作现场
git stash pop
```

**使用场景**：你需要切换分支，但当前还有未完成的修改，又不想提交。

### 3. 查看文件历史

```bash
# 查看文件的所有修改记录
git log --follow 文件名

# 查看文件在某个提交时的内容
git show 提交编号:文件名
```

### 4. 查找包含某个内容的提交

```bash
# 查找包含特定文字的提交
git log --grep="关键词"

# 查找修改了特定文件的提交
git log 文件名
```

---

## 常见问题解决

### 问题 1：推送失败，提示"fetch first"

**原因**：远程有本地没有的更新

**解决**：
```bash
# 方案 1：先拉取再推送
git pull
git push

# 方案 2：强制推送（会覆盖远程，慎用）
git push -f
```

### 问题 2：提交信息写错了

**解决**：
```bash
# 修改最后一次提交的信息
git commit --amend -m "新的提交信息"
```

### 问题 3：文件添加到 .gitignore 后仍然被跟踪

**解决**：
```bash
# 清除缓存
git rm -r --cached .
# 重新添加
git add .
git commit -m "更新 .gitignore"
```

### 问题 4：分支合并冲突

**解决**：
1. 打开冲突文件，查找 `<<<<<<<` 标记
2. 手动编辑，选择保留哪些内容
3. 删除冲突标记
4. `git add 冲突文件`
5. `git commit` 完成合并

---

## 与 Claude Code 配合使用

虽然有了命令清单，但仍然推荐使用 Claude Code 来操作 Git。

### 什么时候用命令？
- 你已经熟悉命令，直接用更快
- 需要复杂的参数组合
- 在没有 Claude Code 的环境

### 什么时候用 Claude Code？
- 不记得具体命令
- 不确定操作是否安全
- 想快速完成操作
- 边用边学，加深理解

**最佳实践**：
1. 用自然语言告诉 Claude Code 你的需求
2. 观察它执行的命令
3. 逐步熟悉常用命令
4. 两者结合使用，效率最高

---

## 推荐学习路径

### 第一阶段：基础掌握（1-2 周）
1. 学会初始化、提交、推送这 3 个核心操作
2. 理解工作区、暂存区、本地仓库的概念
3. 会查看提交历史

### 第二阶段：分支管理（1-2 周）
1. 理解分支的概念和作用
2. 会创建、切换、合并分支
3. 解决简单的合并冲突

### 第三阶段：进阶技巧（按需学习）
1. 回退和撤销操作
2. stash 临时保存
3. 标签管理
4. 远程分支协作

---

## 进阶话题（了解即可）

这些话题适合深入学习后再了解：

- **Rebase**：更优雅的分支合并方式
- **Cherry-pick**：选择性地合并某个提交
- **Bisect**：二分查找问题提交
- **Submodule**：子模块管理
- **Worktree**：多工作树管理

---

**总结**：

Git 的核心命令其实不多，关键是理解它的工作流程。

先学会基础操作，然后边用边学，遇到问题再查。

配合 Claude Code 使用，学习曲线会更平缓。

最重要的是：多实践！

---

**相关资源**：

- Git 官方文档：https://git-scm.com/doc
- GitHub 官方教程：https://docs.github.com/zh
- GitHub 学习实验室：https://lab.github.com

---

**文档说明**：

本文档配套《零基础学 Git：用 AI 助手，不记命令也能搞定代码版本管理》使用。

如有疑问或补充，欢迎反馈！
